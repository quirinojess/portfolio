{"ast":null,"code":"import{Heading,Headings,Sections,ProjectsCard,FilterCategories,Main}from\"components\";import{ProjectsContent}from\"content\";import{useActiveSection}from\"hooks\";import{ScrollToTop}from\"utils\";import{useEffect,useState}from\"react\";import{ProjectsService}from\"services\";import{useProjects}from\"context/ProjectContext\";import{toast}from\"react-toastify\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Projects=()=>{const testId=\"projects\";const sectionIds=[\"\".concat(testId,\"-head\"),\"\".concat(testId,\"-projects\")];const activeSection=useActiveSection(sectionIds);const{headingProjects}=ProjectsContent;const{projects,setProjects}=useProjects();const[categories,setCategories]=useState([]);const{category}=useParams();async function loadProjects(){try{const result=await ProjectsService.getProjects();if(result){setProjects(result);}}catch(error){toast.error(error.message,{position:\"top-right\",autoClose:4000,hideProgressBar:true,closeOnClick:true,draggable:true,theme:\"dark\"});}try{const result=await ProjectsService.getCategories();if(result){const categoryNames=result.map(category=>category.name);setCategories(categoryNames);}}catch(error){toast.error(error.message,{position:\"top-right\",autoClose:4000,hideProgressBar:true,closeOnClick:true,draggable:true,theme:\"dark\"});}}const filteredProjects=category?projects===null||projects===void 0?void 0:projects.filter(project=>project.category_names.includes(category)):projects;const projectsMap=filteredProjects===null||filteredProjects===void 0?void 0:filteredProjects.map(project=>/*#__PURE__*/_jsx(ProjectsCard,{content:{id:project.id,image:{alt:project.title.rendered,src:project.featured_image,title:project.title.rendered,width:\"400\",height:\"400\"},title:project.title.rendered,button:{label:\"View Full\",target:\"\".concat(project.id),scrollTo:\"\",isExternal:false,ariaLabel:\"project-content\",ariaExpanded:false,ariaControls:\"project-\".concat(project.id),type:\"button\"}}},project.id));useEffect(()=>{loadProjects();ScrollToTop();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(Main,{testId:testId,children:[/*#__PURE__*/_jsx(FilterCategories,{content:categories}),/*#__PURE__*/_jsx(Sections,{flex:\"column\",align:\"start\",justify:\"start\",id:\"\".concat(testId,\"-projects\"),isVisible:activeSection===\"\".concat(testId,\"-projects\"),children:/*#__PURE__*/_jsx(Heading,{content:headingProjects,activeH1:true})}),/*#__PURE__*/_jsx(Sections,{flex:\"alternate\",align:\"start\",justify:\"space-between\",id:\"\".concat(testId,\"-projects\"),isVisible:activeSection===\"\".concat(testId,\"-projects\"),children:filteredProjects&&filteredProjects.length>0?projectsMap:/*#__PURE__*/_jsx(Headings,{title:\"No projects available\",type:\"h4\"})})]});};export{Projects};","map":{"version":3,"names":["Heading","Headings","Sections","ProjectsCard","FilterCategories","Main","ProjectsContent","useActiveSection","ScrollToTop","useEffect","useState","ProjectsService","useProjects","toast","useParams","jsx","_jsx","jsxs","_jsxs","Projects","testId","sectionIds","concat","activeSection","headingProjects","projects","setProjects","categories","setCategories","category","loadProjects","result","getProjects","error","message","position","autoClose","hideProgressBar","closeOnClick","draggable","theme","getCategories","categoryNames","map","name","filteredProjects","filter","project","category_names","includes","projectsMap","content","id","image","alt","title","rendered","src","featured_image","width","height","button","label","target","scrollTo","isExternal","ariaLabel","ariaExpanded","ariaControls","type","children","flex","align","justify","isVisible","activeH1","length"],"sources":["C:/Users/quiri/OneDrive/Documentos/portfolio/src/pages/Projects/Projects.tsx"],"sourcesContent":["import {\r\n Heading,\r\n Headings,\r\n Sections,\r\n ProjectsCard,\r\n FilterCategories,\r\n Main,\r\n} from \"components\";\r\nimport { ProjectsContent } from \"content\";\r\nimport { useActiveSection } from \"hooks\";\r\nimport { ScrollToTop } from \"utils\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { ProjectsService } from \"services\";\r\nimport { useProjects } from \"context/ProjectContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useParams } from \"react-router-dom\";\r\nconst Projects = () => {\r\n const testId = \"projects\";\r\n const sectionIds = [`${testId}-head`, `${testId}-projects`];\r\n const activeSection = useActiveSection(sectionIds);\r\n const { headingProjects } = ProjectsContent;\r\n const { projects, setProjects } = useProjects();\r\n const [categories, setCategories] = useState([]);\r\n const { category } = useParams<{ category?: string }>();\r\n\r\n async function loadProjects() {\r\n  try {\r\n   const result = await ProjectsService.getProjects();\r\n   if (result) {\r\n    setProjects(result);\r\n   }\r\n  } catch (error: any) {\r\n   toast.error(error.message, {\r\n    position: \"top-right\",\r\n    autoClose: 4000,\r\n    hideProgressBar: true,\r\n    closeOnClick: true,\r\n    draggable: true,\r\n    theme: \"dark\",\r\n   });\r\n  }\r\n  try {\r\n   const result = await ProjectsService.getCategories();\r\n   if (result) {\r\n    const categoryNames = result.map((category: any) => category.name);\r\n    setCategories(categoryNames);\r\n   }\r\n  } catch (error: any) {\r\n   toast.error(error.message, {\r\n    position: \"top-right\",\r\n    autoClose: 4000,\r\n    hideProgressBar: true,\r\n    closeOnClick: true,\r\n    draggable: true,\r\n    theme: \"dark\",\r\n   });\r\n  }\r\n }\r\n\r\n const filteredProjects = category\r\n  ? projects?.filter((project: any) =>\r\n     project.category_names.includes(category)\r\n    )\r\n  : projects;\r\n\r\n const projectsMap = filteredProjects?.map((project: any) => (\r\n  <ProjectsCard\r\n   key={project.id}\r\n   content={{\r\n    id: project.id,\r\n    image: {\r\n     alt: project.title.rendered,\r\n     src: project.featured_image,\r\n     title: project.title.rendered,\r\n     width: \"400\",\r\n     height: \"400\",\r\n    },\r\n    title: project.title.rendered,\r\n    button: {\r\n     label: \"View Full\",\r\n     target: `${project.id}`,\r\n     scrollTo: \"\",\r\n     isExternal: false,\r\n     ariaLabel: \"project-content\",\r\n     ariaExpanded: false,\r\n     ariaControls: `project-${project.id}`,\r\n     type: \"button\",\r\n    },\r\n   }}\r\n  />\r\n ));\r\n\r\n useEffect(() => {\r\n  loadProjects();\r\n  ScrollToTop();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n }, []);\r\n\r\n return (\r\n  <Main testId={testId}>\r\n   <FilterCategories content={categories} />\r\n   <Sections\r\n    flex=\"column\"\r\n    align=\"start\"\r\n    justify=\"start\"\r\n    id={`${testId}-projects`}\r\n    isVisible={activeSection === `${testId}-projects`}>\r\n    <Heading content={headingProjects} activeH1 />\r\n   </Sections>\r\n   <Sections\r\n    flex=\"alternate\"\r\n    align=\"start\"\r\n    justify=\"space-between\"\r\n    id={`${testId}-projects`}\r\n    isVisible={activeSection === `${testId}-projects`}>\r\n    {filteredProjects && filteredProjects.length > 0 ? (\r\n     projectsMap\r\n    ) : (\r\n     <Headings title={\"No projects available\"} type={\"h4\"} />\r\n    )}\r\n   </Sections>\r\n  </Main>\r\n );\r\n};\r\n\r\nexport { Projects };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}